{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Form, Button, Col, Row, Input, Select, Switch } from \"antd\";\nimport formTypeProvider from \"@data-access/device-type-provider\";\nimport snackbar from \"@utils/snackbar-utils\";\nimport dateUtils from \"mainam-react-native-date-utils\";\nimport { AdminPage, Panel } from \"@admin/components/admin\";\n\nfunction index(props) {\n  var id = props.data && props.data.id;\n\n  var _useState = useState({\n    data: [],\n    ma: '',\n    ten: ''\n  }),\n      state = _useState[0],\n      _setState = _useState[1];\n\n  var setState = function setState() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _setState(function (state) {\n      return _objectSpread({}, state, {}, data);\n    });\n  };\n\n  var getDetail = function getDetail(id) {\n    formTypeProvider.getById(id).then(function (s) {\n      if (s && s.code === 0) {\n        setState({\n          ma: s.data.ma,\n          ten: s.data.ten\n        });\n      }\n    })[\"catch\"](function (e) {});\n  };\n\n  if (id) {\n    getDetail(id);\n  }\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    props.form.validateFields(function (err, values) {\n      if (!err) {\n        create();\n      }\n    });\n  };\n\n  var getFieldDecorator = props.form.getFieldDecorator;\n\n  var create = function create() {\n    var ma = state.ma ? state.ma : (props.data || {}).ma;\n    var ten = state.ten ? state.ten : (props.data || {}).ten;\n    formTypeProvider.createOrEdit(id, ma, ten).then(function (s) {\n      if (s && s.code === 0) {\n        if (id) {\n          snackbar.show(\"Cập nhật loại thiết bị thành công\", \"success\");\n        } else {\n          snackbar.show(\"Thêm mới loại thiết bị thành công\", \"success\");\n        }\n\n        props.onClose();\n      } else {\n        if (id) {\n          snackbar.show(\"Cập nhật loại thiết bị thất bại\", \"danger\");\n        } else {\n          snackbar.show(\"Thêm mới loại thiết bị thất bại\", \"danger\");\n        }\n      }\n    })[\"catch\"](function (e) {});\n  };\n\n  return __jsx(AdminPage, {\n    className: \"mgr-device-type\"\n  }, __jsx(Panel, {\n    title: id ? \"Chỉnh sửa loại thiết bị\" : \"Thêm mới loại thiết bị\",\n    id: \"mgr-device-type\",\n    allowClose: false,\n    allowCollapse: false\n  }, __jsx(Form, {\n    layout: \"vertical\",\n    hideRequiredMark: true,\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\"\n  }, __jsx(Form.Item, {\n    label: \"M\\xE3 lo\\u1EA1i thi\\u1EBFt b\\u1ECB\"\n  }, getFieldDecorator(\"ma\", {\n    rules: [{\n      required: true,\n      message: \"Nhập mã loại thiết bị\"\n    }],\n    initialValue: state.ma\n  })(__jsx(Input, {\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        ma: e.target.value\n      }));\n    },\n    placeholder: \"Nh\\u1EADp m\\xE3 lo\\u1EA1i thi\\u1EBFt b\\u1ECB\"\n  }))))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\"\n  }, __jsx(Form.Item, {\n    label: \"Lo\\u1EA1i thi\\u1EBFt b\\u1ECB\"\n  }, getFieldDecorator(\"ten\", {\n    rules: [{\n      required: true,\n      message: \"Nhập loại thiết bị\"\n    }],\n    initialValue: state.ten\n  })(__jsx(Input, {\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        ten: e.target.value\n      }));\n    },\n    placeholder: \"Nh\\u1EADp lo\\u1EA1i thi\\u1EBFt b\\u1ECB\"\n  }))))), __jsx(\"div\", {\n    style: {\n      width: \"100%\",\n      borderTop: \"1px solid #e9e9e9\",\n      padding: \"16px 16px 0px\",\n      background: \"#fff\",\n      textAlign: \"right\"\n    }\n  }, __jsx(Button, {\n    onClick: props.onClose,\n    style: {\n      marginRight: 8\n    }\n  }, \"H\\u1EE7y\"), __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    onClick: handleSubmit\n  }, id ? \"Lưu thay đổi\" : \"Tạo mới\")))));\n}\n\nexport default Form.create()(index);","map":{"version":3,"sources":["E:/iSofh/source/project-react-js-device-management/src/site/admin/containers/device-type/create/index.js"],"names":["React","useState","useEffect","useRef","Form","Button","Col","Row","Input","Select","Switch","formTypeProvider","snackbar","dateUtils","AdminPage","Panel","index","props","id","data","ma","ten","state","_setState","setState","getDetail","getById","then","s","code","e","handleSubmit","preventDefault","form","validateFields","err","values","create","getFieldDecorator","createOrEdit","show","onClose","rules","required","message","initialValue","target","value","width","borderTop","padding","background","textAlign","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Form, Button, Col, Row, Input, Select, Switch } from \"antd\";\r\nimport formTypeProvider from \"@data-access/device-type-provider\";\r\nimport snackbar from \"@utils/snackbar-utils\";\r\nimport dateUtils from \"mainam-react-native-date-utils\";\r\nimport { AdminPage, Panel } from \"@admin/components/admin\";\r\nfunction index(props) {\r\n  const id = props.data && props.data.id;\r\n \r\n  const [state, _setState] = useState({\r\n    data: [],\r\n    ma: '',\r\n    ten: '',\r\n  });\r\n  const setState = (data = {}) => {\r\n    _setState((state) => {\r\n      return { ...state, ...data };\r\n    });\r\n  };\r\n  const getDetail = (id) => {\r\n    formTypeProvider\r\n      .getById(id)\r\n      .then((s) => {\r\n        if (s && s.code === 0) {\r\n          setState({\r\n            ma: s.data.ma,\r\n            ten: s.data.ten\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => { });\r\n  };\r\n  if (id){\r\n    getDetail(id);\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        create();\r\n      }\r\n    });\r\n  };\r\n  const { getFieldDecorator } = props.form;\r\n  const create = () => {\r\n    let ma = state.ma ? state.ma : (props.data || {}).ma\r\n    let ten = state.ten ? state.ten : (props.data || {}).ten\r\n    formTypeProvider.createOrEdit(id, ma, ten).then((s) => {\r\n      if (s && s.code === 0) {\r\n        if (id) {\r\n          snackbar.show(\"Cập nhật loại thiết bị thành công\", \"success\");\r\n        } else {\r\n          snackbar.show(\"Thêm mới loại thiết bị thành công\", \"success\");\r\n        }\r\n        props.onClose()\r\n      } else {\r\n        if (id) {\r\n          snackbar.show(\"Cập nhật loại thiết bị thất bại\", \"danger\");\r\n        } else {\r\n          snackbar.show(\"Thêm mới loại thiết bị thất bại\", \"danger\");\r\n        }\r\n      }\r\n    }).catch((e) => { });\r\n  };\r\n  return (\r\n    <AdminPage className=\"mgr-device-type\">\r\n      <Panel\r\n        title={id ? \"Chỉnh sửa loại thiết bị\" : \"Thêm mới loại thiết bị\"}\r\n        id={\"mgr-device-type\"}\r\n        allowClose={false}\r\n        allowCollapse={false}\r\n      >\r\n        <Form layout=\"vertical\" hideRequiredMark onSubmit={handleSubmit}>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <Form.Item label=\"Mã loại thiết bị\">\r\n                {getFieldDecorator(\"ma\", {\r\n                  rules: [\r\n                    {\r\n                      required: true,\r\n                      message: \"Nhập mã loại thiết bị\",\r\n                    },\r\n                  ],\r\n                  initialValue: state.ma,\r\n                })(\r\n                  <Input\r\n                    onChange={(e) =>\r\n                      setState({\r\n                        ...state,\r\n                        ma: e.target.value,\r\n                      })\r\n                    }\r\n                    placeholder=\"Nhập mã loại thiết bị\"\r\n                  />\r\n                )}\r\n              </Form.Item>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <Form.Item label=\"Loại thiết bị\">\r\n                {getFieldDecorator(\"ten\", {\r\n                  rules: [\r\n                    {\r\n                      required: true,\r\n                      message: \"Nhập loại thiết bị\",\r\n                    },\r\n                  ],\r\n                  initialValue: state.ten,\r\n                })(\r\n                  <Input\r\n                    onChange={(e) =>\r\n                      setState({\r\n                        ...state,\r\n                        ten: e.target.value,\r\n                      })\r\n                    }\r\n                    placeholder=\"Nhập loại thiết bị\"\r\n                  />\r\n                )}\r\n              </Form.Item>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              borderTop: \"1px solid #e9e9e9\",\r\n              padding: \"16px 16px 0px\",\r\n              background: \"#fff\",\r\n              textAlign: \"right\",\r\n            }}\r\n          >\r\n            <Button onClick={props.onClose} style={{ marginRight: 8 }}>\r\n              Hủy\r\n            </Button>\r\n            <Button type=\"primary\" htmlType=\"submit\" onClick={handleSubmit}>\r\n              {id ? \"Lưu thay đổi\" : \"Tạo mới\"}\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </Panel>\r\n    </AdminPage>\r\n  );\r\n}\r\n\r\nexport default Form.create()(index);\r\n"]},"metadata":{},"sourceType":"module"}