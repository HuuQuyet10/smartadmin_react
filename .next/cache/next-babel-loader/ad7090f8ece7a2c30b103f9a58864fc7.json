{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nvar isServer = false;\nexport default (function (App) {\n  return /*#__PURE__*/function (_React$Component) {\n    _inherits(AppWithReactRouter, _React$Component);\n\n    var _super = _createSuper(AppWithReactRouter);\n\n    function AppWithReactRouter() {\n      _classCallCheck(this, AppWithReactRouter);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(AppWithReactRouter, [{\n      key: \"render\",\n      value: function render() {\n        if (isServer) {\n          var _require = require('react-router'),\n              StaticRouter = _require.StaticRouter;\n\n          return __jsx(StaticRouter, {\n            location: this.props.originalUrl,\n            context: this.props.context\n          }, __jsx(App, this.props));\n        }\n\n        return __jsx(BrowserRouter, null, __jsx(App, this.props));\n      }\n    }], [{\n      key: \"getInitialProps\",\n      value: function () {\n        var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(appContext) {\n          var _appContext$ctx$req, originalUrl, _appContext$ctx$req$l, locals;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _appContext$ctx$req = appContext.ctx.req, originalUrl = _appContext$ctx$req.originalUrl, _appContext$ctx$req$l = _appContext$ctx$req.locals, locals = _appContext$ctx$req$l === void 0 ? {} : _appContext$ctx$req$l;\n                  return _context.abrupt(\"return\", {\n                    originalUrl: originalUrl,\n                    context: locals.context || {}\n                  });\n\n                case 5:\n                  _context.prev = 5;\n                  _context.t0 = _context[\"catch\"](0);\n                  return _context.abrupt(\"return\", {\n                    originalUrl: \"\",\n                    context: null\n                  });\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 5]]);\n        }));\n\n        function getInitialProps(_x) {\n          return _getInitialProps.apply(this, arguments);\n        }\n\n        return getInitialProps;\n      }()\n    }]);\n\n    return AppWithReactRouter;\n  }(React.Component);\n});","map":{"version":3,"sources":["E:/iSofh/source/project-react-js-device-management/src/next/AppWithReactRouter.js"],"names":["React","BrowserRouter","isServer","App","require","StaticRouter","props","originalUrl","context","appContext","ctx","req","locals","Component"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,IAAMC,QAAQ,QAAd;AAEA,gBAAe,UAAAC,GAAG,EAAI;AACpB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAuBW;AACP,YAAID,QAAJ,EAAc;AAAA,yBACaE,OAAO,CAAC,cAAD,CADpB;AAAA,cACJC,YADI,YACJA,YADI;;AAEZ,iBACE,MAAC,YAAD;AACE,YAAA,QAAQ,EAAE,KAAKC,KAAL,CAAWC,WADvB;AAEE,YAAA,OAAO,EAAE,KAAKD,KAAL,CAAWE;AAFtB,aAIE,MAAC,GAAD,EAAS,KAAKF,KAAd,CAJF,CADF;AAQD;;AACD,eACE,MAAC,aAAD,QACE,MAAC,GAAD,EAAS,KAAKA,KAAd,CADF,CADF;AAKD;AAxCH;AAAA;AAAA;AAAA,yGAC+BG,UAD/B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAUUA,UAVV,CAIQC,GAJR,CAKUC,GALV,EAMYJ,WANZ,uBAMYA,WANZ,8CAOYK,MAPZ,EAOYA,MAPZ,sCAOqB,EAPrB;AAAA,mDAWa;AACLL,oBAAAA,WAAW,EAAXA,WADK;AAELC,oBAAAA,OAAO,EAAEI,MAAM,CAACJ,OAAP,IAAkB;AAFtB,mBAXb;;AAAA;AAAA;AAAA;AAAA,mDAgBa;AACLD,oBAAAA,WAAW,EAAE,EADR;AAELC,oBAAAA,OAAO,EAAE;AAFJ,mBAhBb;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,IAAwCR,KAAK,CAACa,SAA9C;AA0CD,CA3CD","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nconst isServer = typeof window === 'undefined';\r\n\r\nexport default App => {\r\n  return class AppWithReactRouter extends React.Component {\r\n    static async getInitialProps(appContext) {\r\n      try {\r\n        const {\r\n          ctx: {\r\n            req: {\r\n              originalUrl,\r\n              locals = {},\r\n            },\r\n          },\r\n        } = appContext;\r\n        return {\r\n          originalUrl,\r\n          context: locals.context || {},\r\n        };\r\n      } catch (error) {\r\n        return {\r\n          originalUrl: \"\",\r\n          context: null\r\n        }\r\n      }\r\n    }\r\n\r\n    render() {\r\n      if (isServer) {\r\n        const { StaticRouter } = require('react-router');\r\n        return (\r\n          <StaticRouter\r\n            location={this.props.originalUrl}\r\n            context={this.props.context}\r\n          >\r\n            <App {...this.props} />\r\n          </StaticRouter>\r\n        );\r\n      }\r\n      return (\r\n        <BrowserRouter>\r\n          <App {...this.props} />\r\n        </BrowserRouter>\r\n      );\r\n    }\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}