{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Form, Button, Col, Row, Input, Select, Switch } from \"antd\";\nimport hangSanXuatProvider from \"@data-access/manufacturer-provider\";\nimport snackbar from \"@utils/snackbar-utils\";\nimport dateUtils from \"mainam-react-native-date-utils\";\nimport { AdminPage, Panel } from \"@admin/components/admin\";\n\nfunction index(props) {\n  const id = props.match.params.id;\n  const {\n    0: state,\n    1: _setState\n  } = useState({\n    data: [],\n    ma: \"\",\n    ten: \"\"\n  });\n\n  const setState = (data = {}) => {\n    _setState(state => {\n      return _objectSpread({}, state, {}, data);\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      getDetail(id);\n    }\n  }, []);\n\n  const getDetail = id => {\n    hangSanXuatProvider.getById(id).then(s => {\n      if (s && s.code === 0) {\n        setState(s.data);\n      }\n    }).catch(e => {});\n  };\n\n  const onClose = () => () => {\n    props.history.push(\"/admin/hang-san-xuat\");\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.form.validateFields((err, values) => {\n      if (!err) {\n        create();\n      }\n    });\n  };\n\n  const {\n    getFieldDecorator\n  } = props.form;\n\n  const create = () => {\n    hangSanXuatProvider.createOrEdit(id, state.ma, state.ten).then(s => {\n      if (s && s.code === 0) {\n        if (id) {\n          snackbar.show(\"Cập nhật tài khoản thành công\", \"success\");\n        } else {\n          snackbar.show(\"Thêm mới tài khoản thành công\", \"success\");\n        }\n\n        props.history.push(\"/admin/hang-san-xuat\");\n      } else {\n        if (id) {\n          snackbar.show(\"Cập nhật tài khoản thất bại\", \"danger\");\n        } else {\n          snackbar.show(\"Thêm mới tài khoản thất bại\", \"danger\");\n        }\n      }\n    }).catch(e => {});\n  };\n\n  return __jsx(AdminPage, {\n    className: \"mgr-manufacturer\"\n  }, __jsx(Panel, {\n    title: id ? \"Chỉnh sửa tài khoản\" : \"Thêm mới tài khoản\",\n    id: \"mgr-manufacturer\",\n    allowClose: false,\n    allowCollapse: false\n  }, __jsx(Form, {\n    layout: \"vertical\",\n    hideRequiredMark: true,\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\"\n  }, __jsx(Form.Item, {\n    label: \"M\\xE3 t\\xE0i kho\\u1EA3n\"\n  }, getFieldDecorator(\"ma\", {\n    rules: [{\n      required: true,\n      message: \"Nhập mã tài khoản\"\n    }],\n    initialValue: state.ma\n  })(__jsx(Input, {\n    onChange: e => setState(_objectSpread({}, state, {\n      ma: e.target.value\n    })),\n    placeholder: \"Nh\\u1EADp m\\xE3 t\\xE0i kho\\u1EA3n\"\n  }))))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\"\n  }, __jsx(Form.Item, {\n    label: \"Lo\\u1EA1i form\"\n  }, getFieldDecorator(\"ten\", {\n    rules: [{\n      required: true,\n      message: \"Nhập tài khoản\"\n    }],\n    initialValue: state.ten\n  })(__jsx(Input, {\n    onChange: e => setState(_objectSpread({}, state, {\n      ten: e.target.value\n    })),\n    placeholder: \"Nh\\u1EADp t\\xE0i kho\\u1EA3n\"\n  }))))), __jsx(\"div\", {\n    style: {\n      width: \"100%\",\n      borderTop: \"1px solid #e9e9e9\",\n      padding: \"16px 16px 0px\",\n      background: \"#fff\",\n      textAlign: \"right\"\n    }\n  }, __jsx(Button, {\n    onClick: onClose(false),\n    style: {\n      marginRight: 8\n    }\n  }, \"H\\u1EE7y\"), __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    onClick: handleSubmit\n  }, id ? \"Lưu thay đổi\" : \"Tạo mới\")))));\n}\n\nexport default Form.create()(index);","map":{"version":3,"sources":["E:/iSofh/source/project-react-js-device-management/src/site/admin/containers/user/create/index.js"],"names":["React","useState","useEffect","useRef","Form","Button","Col","Row","Input","Select","Switch","hangSanXuatProvider","snackbar","dateUtils","AdminPage","Panel","index","props","id","match","params","state","_setState","data","ma","ten","setState","getDetail","getById","then","s","code","catch","e","onClose","history","push","handleSubmit","preventDefault","form","validateFields","err","values","create","getFieldDecorator","createOrEdit","show","rules","required","message","initialValue","target","value","width","borderTop","padding","background","textAlign","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Form, Button, Col, Row, Input, Select, Switch } from \"antd\";\r\nimport hangSanXuatProvider from \"@data-access/manufacturer-provider\";\r\nimport snackbar from \"@utils/snackbar-utils\";\r\nimport dateUtils from \"mainam-react-native-date-utils\";\r\nimport { AdminPage, Panel } from \"@admin/components/admin\";\r\nfunction index(props) {\r\n    const id = props.match.params.id;\r\n    const [state, _setState] = useState({\r\n        data: [],\r\n        ma: \"\",\r\n        ten: \"\"\r\n    });\r\n    const setState = (data = {}) => {\r\n        _setState((state) => {\r\n            return { ...state, ...data };\r\n        });\r\n    };\r\n    useEffect(() => {\r\n        if (id) {\r\n            getDetail(id);\r\n        }\r\n    }, []);\r\n    const getDetail = (id) => {\r\n        hangSanXuatProvider.getById(id).then(s => {\r\n            if (s && s.code === 0) {\r\n                setState(s.data);\r\n            }\r\n        }).catch(e => { })\r\n    }\r\n    const onClose = () => () => {\r\n        props.history.push(\"/admin/hang-san-xuat\");\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                create();\r\n            }\r\n        });\r\n    };\r\n    const { getFieldDecorator } = props.form;\r\n    const create = () => {\r\n        hangSanXuatProvider.createOrEdit(id, state.ma, state.ten).then(s => {\r\n            if (s && s.code === 0) {\r\n                if (id) {\r\n                    snackbar.show(\"Cập nhật tài khoản thành công\", \"success\");\r\n                } else {\r\n                    snackbar.show(\"Thêm mới tài khoản thành công\", \"success\");\r\n                }\r\n                props.history.push(\"/admin/hang-san-xuat\");\r\n            } else {\r\n                if (id) {\r\n                    snackbar.show(\"Cập nhật tài khoản thất bại\", \"danger\");\r\n                } else {\r\n                    snackbar.show(\"Thêm mới tài khoản thất bại\", \"danger\");\r\n                }\r\n            }\r\n        }).catch(e => { })\r\n    }\r\n    return (\r\n        <AdminPage className=\"mgr-manufacturer\">\r\n            <Panel\r\n                title={id ? \"Chỉnh sửa tài khoản\" : \"Thêm mới tài khoản\"}\r\n                id={\"mgr-manufacturer\"}\r\n                allowClose={false}\r\n                allowCollapse={false}\r\n            >\r\n                <Form layout=\"vertical\" hideRequiredMark onSubmit={handleSubmit}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <Form.Item label=\"Mã tài khoản\">\r\n                                {getFieldDecorator(\"ma\", {\r\n                                    rules: [\r\n                                        {\r\n                                            required: true,\r\n                                            message: \"Nhập mã tài khoản\"\r\n                                        }\r\n                                    ],\r\n                                    initialValue: state.ma\r\n                                })(\r\n                                    <Input\r\n                                        onChange={e => setState({\r\n                                            ...state,\r\n                                            ma: e.target.value\r\n                                        })}\r\n                                        placeholder=\"Nhập mã tài khoản\"\r\n                                    />\r\n                                )}\r\n                            </Form.Item>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <Form.Item label=\"Loại form\">\r\n                                {getFieldDecorator(\"ten\", {\r\n                                    rules: [\r\n                                        {\r\n                                            required: true,\r\n                                            message: \"Nhập tài khoản\"\r\n                                        }\r\n                                    ],\r\n                                    initialValue: state.ten\r\n                                })(\r\n                                    <Input\r\n                                        onChange={e => setState({\r\n                                            ...state,\r\n                                            ten: e.target.value\r\n                                        })}\r\n                                        placeholder=\"Nhập tài khoản\"\r\n                                    />\r\n                                )}\r\n                            </Form.Item>\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            width: \"100%\",\r\n                            borderTop: \"1px solid #e9e9e9\",\r\n                            padding: \"16px 16px 0px\",\r\n                            background: \"#fff\",\r\n                            textAlign: \"right\"\r\n                        }}\r\n                    >\r\n                        <Button onClick={onClose(false)} style={{ marginRight: 8 }}>\r\n                            Hủy\r\n                        </Button>\r\n                        <Button type=\"primary\" htmlType=\"submit\" onClick={handleSubmit}>\r\n                            {id ? \"Lưu thay đổi\" : \"Tạo mới\"}\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </Panel>\r\n        </AdminPage>\r\n    );\r\n}\r\n\r\nexport default (Form.create()(index));\r\n"]},"metadata":{},"sourceType":"module"}