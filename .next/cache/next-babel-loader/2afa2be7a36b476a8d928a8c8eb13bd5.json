{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport axios from \"axios\"; // if (typeof window === \"undefined\") {\n//   global.window = {};\n// }\n\nconst server_url = \"https://dhy3.demo.isofh.vn\"; // const server_url = window.location.origin;\n\nString.prototype.absoluteUrl = String.prototype.absolute || function (defaultValue) {\n  var _this = this.toString();\n\n  if (_this == \"\") if (defaultValue != undefined) return defaultValue;else return _this;\n\n  if (_this.startsWith(\"http\") || _this.startsWith(\"blob\")) {\n    return _this;\n  }\n\n  if (_this.endsWith(\".jpg\") || _this.endsWith(\".png\") || _this.endsWith(\".JPG\") || _this.endsWith(\".PNG\") || _this.endsWith(\".gif\")) {\n    return (_this + \"\").resolveResource();\n  }\n\n  if (!_this.endsWith(\".jpg\") || !_this.endsWith(\".png\") || _this.endsWith(\".JPG\") || _this.endsWith(\".PNG\") || !_this.endsWith(\".gif\")) {\n    return defaultValue;\n  }\n\n  if (_this.startsWith(\"jira.isofh.com.vn\")) return \"htts://\" + _this + \"\"; // if(this.startsWith(\"user\"))\n  //     return\n\n  return server_url + _this + \"\";\n};\n\nString.prototype.absoluteFileUrl = String.prototype.absoluteFileUrl || function (defaultValue) {\n  var _this = this.toString();\n\n  if (_this == \"\") if (defaultValue != undefined) return defaultValue;else return _this;\n\n  if (_this.startsWith(\"http\") || _this.startsWith(\"blob\")) {\n    return _this;\n  }\n\n  return server_url + \"/api/may-tho/v1/files/\" + _this + \"\";\n};\n\nString.prototype.getServiceUrl = String.prototype.absolute || function (defaultValue) {\n  if (this == \"\") if (defaultValue != undefined) return defaultValue;else return this;\n\n  if (this.startsWith(\"http\") || this.startsWith(\"blob\")) {\n    return this;\n  }\n\n  return server_url + this;\n};\n\nString.prototype.resolveResource = String.prototype.resolveResource || function (defaultValue) {\n  if (this == \"\") if (defaultValue != undefined) return defaultValue;else return this;\n\n  if (this.startsWith(\"http\") || this.startsWith(\"blob\")) {\n    return this;\n  }\n\n  return server_url + \"/view-image/\" + this;\n};\n\nexport default {\n  // auth: \"eyJhbGciOiJSUzI1NiJ9.eyJyb2xlIjoiaXNvZmhDYXJlIiwiY3JlYXRlZCI6MTU1MzA3MDc0Mzc4NiwidHlwZSI6MCwidXNlcklkIjo1NX0.k8B3Cm5M-22ckpKk3W1fhgHoHq7LGVdKIjhLZUl0abKES5nSCC5RhupsRXctTK6skQMvCZ8f-TuZGbDcNgdlsb_Kc0ogFmaPmGI4ao7MKrCb9nCr4fxztUN0ABWUERA1wnQNFljgVR9FIrNKnf2hx_aTHIrwS9Ol1JOaKJVnj83cK5vg2ExvN7ralb1yoyuHEZoODlDBVHCIxeG5X3oaJE6-BKfcafXau_cmYz-Ovg31VtZpu1lCffaOj2uLSefPBvqfL2d2U1sswiUrV95rankTjOomr31lP4xiCN71-7YX_6Hx7EraRFhmclmaOjGUWM83VB0fvY8hIEHiE8yB8w\",\n  auth: \"\",\n  serverApi: server_url,\n\n  uploadFile(url, file) {\n    const formData = new FormData();\n    formData.append(\"files\", file);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n        Authorization: this.auth // 'MobileMode': 'vendorPortal'\n\n      }\n    };\n    return axios.post(url.getServiceUrl(), formData, config);\n  },\n\n  requestApi(methodType, url, body) {\n    return new _Promise((resolve, reject) => {\n      var dataBody = \"\";\n      if (!body) body = {};\n      dataBody = _JSON$stringify(body);\n      this.requestFetch(methodType, url && url.indexOf(\"http\") == 0 ? url : url, {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: this.auth // 'MobileMode': 'vendorPortal'\n\n      }, dataBody).then(s => {\n        // ;\n        s.json().then(val => {\n          resolve(val);\n        }).catch(e => {\n          reject(e);\n        });\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  },\n\n  requestFetch(methodType, url, headers, body) {\n    return new _Promise((resolve, reject) => {\n      let fetchParam = {\n        method: methodType,\n        headers\n      };\n\n      if (methodType.toLowerCase() !== \"get\") {\n        fetchParam.body = body;\n      }\n\n      return fetch(url.getServiceUrl(), fetchParam).then(json => {\n        if (!json.ok) {\n          reject(json);\n        } else resolve(json);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  },\n\n  requestService(url) {\n    return new _Promise(function (resolve, reject) {\n      axios.get(server_url + url).then(function (response) {\n        resolve(response.data);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  }\n\n};","map":{"version":3,"sources":["E:/iSofh/source/project-react-js-device-management/src/utils/client-utils.js"],"names":["axios","server_url","String","prototype","absoluteUrl","absolute","defaultValue","_this","toString","undefined","startsWith","endsWith","resolveResource","absoluteFileUrl","getServiceUrl","auth","serverApi","uploadFile","url","file","formData","FormData","append","config","headers","Authorization","post","requestApi","methodType","body","resolve","reject","dataBody","requestFetch","indexOf","Accept","then","s","json","val","catch","e","fetchParam","method","toLowerCase","fetch","ok","requestService","get","response","data","error"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;;AACA,MAAMC,UAAU,GAAG,4BAAnB,C,CACA;;AAEAC,MAAM,CAACC,SAAP,CAAiBC,WAAjB,GACEF,MAAM,CAACC,SAAP,CAAiBE,QAAjB,IACA,UAAUC,YAAV,EAAwB;AACtB,MAAIC,KAAK,GAAG,KAAKC,QAAL,EAAZ;;AACA,MAAID,KAAK,IAAI,EAAb,EACE,IAAID,YAAY,IAAIG,SAApB,EAA+B,OAAOH,YAAP,CAA/B,KACK,OAAOC,KAAP;;AACP,MAAIA,KAAK,CAACG,UAAN,CAAiB,MAAjB,KAA4BH,KAAK,CAACG,UAAN,CAAiB,MAAjB,CAAhC,EAA0D;AACxD,WAAOH,KAAP;AACD;;AACD,MACEA,KAAK,CAACI,QAAN,CAAe,MAAf,KACAJ,KAAK,CAACI,QAAN,CAAe,MAAf,CADA,IAEAJ,KAAK,CAACI,QAAN,CAAe,MAAf,CAFA,IAGAJ,KAAK,CAACI,QAAN,CAAe,MAAf,CAHA,IAIAJ,KAAK,CAACI,QAAN,CAAe,MAAf,CALF,EAME;AACA,WAAO,CAACJ,KAAK,GAAG,EAAT,EAAaK,eAAb,EAAP;AACD;;AACD,MACE,CAACL,KAAK,CAACI,QAAN,CAAe,MAAf,CAAD,IACA,CAACJ,KAAK,CAACI,QAAN,CAAe,MAAf,CADD,IAEAJ,KAAK,CAACI,QAAN,CAAe,MAAf,CAFA,IAGAJ,KAAK,CAACI,QAAN,CAAe,MAAf,CAHA,IAIA,CAACJ,KAAK,CAACI,QAAN,CAAe,MAAf,CALH,EAME;AACA,WAAOL,YAAP;AACD;;AACD,MAAIC,KAAK,CAACG,UAAN,CAAiB,mBAAjB,CAAJ,EAA2C,OAAO,YAAYH,KAAZ,GAAoB,EAA3B,CA1BrB,CA2BtB;AACA;;AACA,SAAON,UAAU,GAAGM,KAAb,GAAqB,EAA5B;AACD,CAhCH;;AAkCAL,MAAM,CAACC,SAAP,CAAiBU,eAAjB,GACEX,MAAM,CAACC,SAAP,CAAiBU,eAAjB,IACA,UAAUP,YAAV,EAAwB;AACtB,MAAIC,KAAK,GAAG,KAAKC,QAAL,EAAZ;;AACA,MAAID,KAAK,IAAI,EAAb,EACE,IAAID,YAAY,IAAIG,SAApB,EAA+B,OAAOH,YAAP,CAA/B,KACK,OAAOC,KAAP;;AACP,MAAIA,KAAK,CAACG,UAAN,CAAiB,MAAjB,KAA4BH,KAAK,CAACG,UAAN,CAAiB,MAAjB,CAAhC,EAA0D;AACxD,WAAOH,KAAP;AACD;;AACD,SAAON,UAAU,GAAG,wBAAb,GAAwCM,KAAxC,GAAgD,EAAvD;AACD,CAXH;;AAaAL,MAAM,CAACC,SAAP,CAAiBW,aAAjB,GACEZ,MAAM,CAACC,SAAP,CAAiBE,QAAjB,IACA,UAAUC,YAAV,EAAwB;AACtB,MAAI,QAAQ,EAAZ,EACE,IAAIA,YAAY,IAAIG,SAApB,EAA+B,OAAOH,YAAP,CAA/B,KACK,OAAO,IAAP;;AACP,MAAI,KAAKI,UAAL,CAAgB,MAAhB,KAA2B,KAAKA,UAAL,CAAgB,MAAhB,CAA/B,EAAwD;AACtD,WAAO,IAAP;AACD;;AACD,SAAOT,UAAU,GAAG,IAApB;AACD,CAVH;;AAYAC,MAAM,CAACC,SAAP,CAAiBS,eAAjB,GACEV,MAAM,CAACC,SAAP,CAAiBS,eAAjB,IACA,UAAUN,YAAV,EAAwB;AACtB,MAAI,QAAQ,EAAZ,EACE,IAAIA,YAAY,IAAIG,SAApB,EAA+B,OAAOH,YAAP,CAA/B,KACK,OAAO,IAAP;;AACP,MAAI,KAAKI,UAAL,CAAgB,MAAhB,KAA2B,KAAKA,UAAL,CAAgB,MAAhB,CAA/B,EAAwD;AACtD,WAAO,IAAP;AACD;;AACD,SAAOT,UAAU,GAAG,cAAb,GAA8B,IAArC;AACD,CAVH;;AAYA,eAAe;AACb;AACAc,EAAAA,IAAI,EAAE,EAFO;AAGbC,EAAAA,SAAS,EAAEf,UAHE;;AAIbgB,EAAAA,UAAU,CAACC,GAAD,EAAMC,IAAN,EAAY;AACpB,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,IAAzB;AACA,UAAMI,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB,qBADT;AAEPC,QAAAA,aAAa,EAAE,KAAKV,IAFb,CAGP;;AAHO;AADI,KAAf;AAOA,WAAOf,KAAK,CAAC0B,IAAN,CAAWR,GAAG,CAACJ,aAAJ,EAAX,EAAgCM,QAAhC,EAA0CG,MAA1C,CAAP;AACD,GAfY;;AAgBbI,EAAAA,UAAU,CAACC,UAAD,EAAaV,GAAb,EAAkBW,IAAlB,EAAwB;AAChC,WAAO,aAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIC,QAAQ,GAAG,EAAf;AACA,UAAI,CAACH,IAAL,EAAWA,IAAI,GAAG,EAAP;AACXG,MAAAA,QAAQ,GAAG,gBAAeH,IAAf,CAAX;AACA,WAAKI,YAAL,CACEL,UADF,EAEEV,GAAG,IAAIA,GAAG,CAACgB,OAAJ,CAAY,MAAZ,KAAuB,CAA9B,GAAkChB,GAAlC,GAAwCA,GAF1C,EAGE;AACEiB,QAAAA,MAAM,EAAE,kBADV;AAEE,wBAAgB,kBAFlB;AAGEV,QAAAA,aAAa,EAAE,KAAKV,IAHtB,CAIE;;AAJF,OAHF,EASEiB,QATF,EAWGI,IAXH,CAWSC,CAAD,IAAO;AACX;AACAA,QAAAA,CAAC,CAACC,IAAF,GACGF,IADH,CACSG,GAAD,IAAS;AACbT,UAAAA,OAAO,CAACS,GAAD,CAAP;AACD,SAHH,EAIGC,KAJH,CAIUC,CAAD,IAAO;AACZV,UAAAA,MAAM,CAACU,CAAD,CAAN;AACD,SANH;AAOD,OApBH,EAqBGD,KArBH,CAqBUC,CAAD,IAAO;AACZV,QAAAA,MAAM,CAACU,CAAD,CAAN;AACD,OAvBH;AAwBD,KA5BM,CAAP;AA6BD,GA9CY;;AA+CbR,EAAAA,YAAY,CAACL,UAAD,EAAaV,GAAb,EAAkBM,OAAlB,EAA2BK,IAA3B,EAAiC;AAC3C,WAAO,aAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIW,UAAU,GAAG;AACfC,QAAAA,MAAM,EAAEf,UADO;AAEfJ,QAAAA;AAFe,OAAjB;;AAIA,UAAII,UAAU,CAACgB,WAAX,OAA6B,KAAjC,EAAwC;AACtCF,QAAAA,UAAU,CAACb,IAAX,GAAkBA,IAAlB;AACD;;AACD,aAAOgB,KAAK,CAAC3B,GAAG,CAACJ,aAAJ,EAAD,EAAsB4B,UAAtB,CAAL,CACJN,IADI,CACEE,IAAD,IAAU;AACd,YAAI,CAACA,IAAI,CAACQ,EAAV,EAAc;AACZf,UAAAA,MAAM,CAACO,IAAD,CAAN;AACD,SAFD,MAEOR,OAAO,CAACQ,IAAD,CAAP;AACR,OALI,EAMJE,KANI,CAMGC,CAAD,IAAO;AACZV,QAAAA,MAAM,CAACU,CAAD,CAAN;AACD,OARI,CAAP;AASD,KAjBM,CAAP;AAkBD,GAlEY;;AAmEbM,EAAAA,cAAc,CAAC7B,GAAD,EAAM;AAClB,WAAO,aAAY,UAAUY,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C/B,MAAAA,KAAK,CACFgD,GADH,CACO/C,UAAU,GAAGiB,GADpB,EAEGkB,IAFH,CAEQ,UAAUa,QAAV,EAAoB;AACxBnB,QAAAA,OAAO,CAACmB,QAAQ,CAACC,IAAV,CAAP;AACD,OAJH,EAKGV,KALH,CAKS,UAAUW,KAAV,EAAiB;AACtBpB,QAAAA,MAAM,CAACoB,KAAD,CAAN;AACD,OAPH;AAQD,KATM,CAAP;AAUD;;AA9EY,CAAf","sourcesContent":["import axios from \"axios\";\r\n// if (typeof window === \"undefined\") {\r\n//   global.window = {};\r\n// }\r\nconst server_url = \"https://dhy3.demo.isofh.vn\";\r\n// const server_url = window.location.origin;\r\n\r\nString.prototype.absoluteUrl =\r\n  String.prototype.absolute ||\r\n  function (defaultValue) {\r\n    var _this = this.toString();\r\n    if (_this == \"\")\r\n      if (defaultValue != undefined) return defaultValue;\r\n      else return _this;\r\n    if (_this.startsWith(\"http\") || _this.startsWith(\"blob\")) {\r\n      return _this;\r\n    }\r\n    if (\r\n      _this.endsWith(\".jpg\") ||\r\n      _this.endsWith(\".png\") ||\r\n      _this.endsWith(\".JPG\") ||\r\n      _this.endsWith(\".PNG\") ||\r\n      _this.endsWith(\".gif\")\r\n    ) {\r\n      return (_this + \"\").resolveResource();\r\n    }\r\n    if (\r\n      !_this.endsWith(\".jpg\") ||\r\n      !_this.endsWith(\".png\") ||\r\n      _this.endsWith(\".JPG\") ||\r\n      _this.endsWith(\".PNG\") ||\r\n      !_this.endsWith(\".gif\")\r\n    ) {\r\n      return defaultValue;\r\n    }\r\n    if (_this.startsWith(\"jira.isofh.com.vn\")) return \"htts://\" + _this + \"\";\r\n    // if(this.startsWith(\"user\"))\r\n    //     return\r\n    return server_url + _this + \"\";\r\n  };\r\n\r\nString.prototype.absoluteFileUrl =\r\n  String.prototype.absoluteFileUrl ||\r\n  function (defaultValue) {\r\n    var _this = this.toString();\r\n    if (_this == \"\")\r\n      if (defaultValue != undefined) return defaultValue;\r\n      else return _this;\r\n    if (_this.startsWith(\"http\") || _this.startsWith(\"blob\")) {\r\n      return _this;\r\n    }\r\n    return server_url + \"/api/may-tho/v1/files/\" + _this + \"\";\r\n  };\r\n\r\nString.prototype.getServiceUrl =\r\n  String.prototype.absolute ||\r\n  function (defaultValue) {\r\n    if (this == \"\")\r\n      if (defaultValue != undefined) return defaultValue;\r\n      else return this;\r\n    if (this.startsWith(\"http\") || this.startsWith(\"blob\")) {\r\n      return this;\r\n    }\r\n    return server_url + this;\r\n  };\r\n\r\nString.prototype.resolveResource =\r\n  String.prototype.resolveResource ||\r\n  function (defaultValue) {\r\n    if (this == \"\")\r\n      if (defaultValue != undefined) return defaultValue;\r\n      else return this;\r\n    if (this.startsWith(\"http\") || this.startsWith(\"blob\")) {\r\n      return this;\r\n    }\r\n    return server_url + \"/view-image/\" + this;\r\n  };\r\n\r\nexport default {\r\n  // auth: \"eyJhbGciOiJSUzI1NiJ9.eyJyb2xlIjoiaXNvZmhDYXJlIiwiY3JlYXRlZCI6MTU1MzA3MDc0Mzc4NiwidHlwZSI6MCwidXNlcklkIjo1NX0.k8B3Cm5M-22ckpKk3W1fhgHoHq7LGVdKIjhLZUl0abKES5nSCC5RhupsRXctTK6skQMvCZ8f-TuZGbDcNgdlsb_Kc0ogFmaPmGI4ao7MKrCb9nCr4fxztUN0ABWUERA1wnQNFljgVR9FIrNKnf2hx_aTHIrwS9Ol1JOaKJVnj83cK5vg2ExvN7ralb1yoyuHEZoODlDBVHCIxeG5X3oaJE6-BKfcafXau_cmYz-Ovg31VtZpu1lCffaOj2uLSefPBvqfL2d2U1sswiUrV95rankTjOomr31lP4xiCN71-7YX_6Hx7EraRFhmclmaOjGUWM83VB0fvY8hIEHiE8yB8w\",\r\n  auth: \"\",\r\n  serverApi: server_url,\r\n  uploadFile(url, file) {\r\n    const formData = new FormData();\r\n    formData.append(\"files\", file);\r\n    const config = {\r\n      headers: {\r\n        \"content-type\": \"multipart/form-data\",\r\n        Authorization: this.auth,\r\n        // 'MobileMode': 'vendorPortal'\r\n      },\r\n    };\r\n    return axios.post(url.getServiceUrl(), formData, config);\r\n  },\r\n  requestApi(methodType, url, body) {\r\n    return new Promise((resolve, reject) => {\r\n      var dataBody = \"\";\r\n      if (!body) body = {};\r\n      dataBody = JSON.stringify(body);\r\n      this.requestFetch(\r\n        methodType,\r\n        url && url.indexOf(\"http\") == 0 ? url : url,\r\n        {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: this.auth,\r\n          // 'MobileMode': 'vendorPortal'\r\n        },\r\n        dataBody\r\n      )\r\n        .then((s) => {\r\n          // ;\r\n          s.json()\r\n            .then((val) => {\r\n              resolve(val);\r\n            })\r\n            .catch((e) => {\r\n              reject(e);\r\n            });\r\n        })\r\n        .catch((e) => {\r\n          reject(e);\r\n        });\r\n    });\r\n  },\r\n  requestFetch(methodType, url, headers, body) {\r\n    return new Promise((resolve, reject) => {\r\n      let fetchParam = {\r\n        method: methodType,\r\n        headers,\r\n      };\r\n      if (methodType.toLowerCase() !== \"get\") {\r\n        fetchParam.body = body;\r\n      }\r\n      return fetch(url.getServiceUrl(), fetchParam)\r\n        .then((json) => {\r\n          if (!json.ok) {\r\n            reject(json);\r\n          } else resolve(json);\r\n        })\r\n        .catch((e) => {\r\n          reject(e);\r\n        });\r\n    });\r\n  },\r\n  requestService(url) {\r\n    return new Promise(function (resolve, reject) {\r\n      axios\r\n        .get(server_url + url)\r\n        .then(function (response) {\r\n          resolve(response.data);\r\n        })\r\n        .catch(function (error) {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}